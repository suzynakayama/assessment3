{% load static %}

<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta http-equiv="X-UA-Compatible" content="ie=edge" />
        <link
            rel="stylesheet"
            href="https://unpkg.com/purecss@1.0.0/build/pure-min.css"
            integrity="sha384-nn4HPE8lTHyVtfCBi5yW9d20FjT8BJwUXyWZT9InLYax14RDjBj46LmSztkmNP9w"
            crossorigin="anonymous"
        />
        <link rel="stylesheet" href="{% static 'css/style.css' %}" />
        <title>Wacky Widgets</title>
    </head>
    <body>
        <section class="center text-center">
            <h1>Wacky Widgets</h1>
            <br>
            <br>
            {% if widgets %}
                <table class="pure-table pure-table-bordered">
                    <thead>
                        <tr>
                            <th>Description</th>
                            <th>Quantity</th>
                            <th>Delete</th>
                        </tr>
                    </thead> 
                {% for widget in widgets %}
                    <tbody>
                        <tr>
                            <td>{{ widget.description }}</td>
                            <td>{{ widget.quantity }}</td>
                            <td>
                                <a href="{% url 'delete_widget' widget.id %}">X</a>
                            </td>
                        </tr>
                        {% endfor %}
                        <tr class="bold">
                            <td>Total Quantity</td>
                            <td>{{ total_widgets }}</td>
                            <td></td>
                        </tr>
                </tbody>
            </table>
            {% else %}
            <h3>No Widget Exist</h3>
            <hr class="max-wid" />
            {% endif %}
            <br>
            <br>
            <form class="pure-form" action="{% url 'add_widget' %}" method="POST">
                {% csrf_token %} 
                {{ widget_form.as_p }}
                <input
                    class="pure-button success"
                    type="submit"
                    class="btn"
                    value="Add Widget"
                />
            </form>
            </section>
        <footer>
            <p>
                <a href="https://github.com/suzynakayama" target="_blank"
                    ><span>Developed by</span>&nbsp;Suzy Yume&nbsp;<img
                        src="{% static 'images/github.png' %}"
                        alt="github"
                /></a>
            </p>
        </footer>
    </body>
</html>
